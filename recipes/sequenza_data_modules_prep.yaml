# rstats/3.6
- name: rstats
  version: 3.6
  build_type: custom
  build_args:
    steps:
      - build_args:
          prereq_args:
            prereq_args:
              md5: f5003472d58a3d3765a1c537fdae71d5
              url: http://cran.utstat.utoronto.ca/src/base/R-3/R-3.6.1.tar.gz
            prereq_type: download
          prereq_type: extract
          configure: ["--with-x=no"]
        build_type: autotools
      - build_args:
          package: devtools
          # version: don't set, devtools is needed for versioned cran installs
        build_type: cran
        scan_dirs: true
  system_depends:
    - name: libcurl4-openssl-dev
    - name: libbz2-dev
    - name: libncurses5-dev
    - name: libreadline-dev
      permitted_os: ["Ubuntu18.04"]
    - name: libreadline6-dev
      permitted_os: ["Debian8.11"]
    - name: liblzma-dev
    - name: libpcre3-dev
    - name: gfortran
      required_at: build
    - name: libgfortran-7-dev
      permitted_os: ["Ubuntu18.04"]
    - name: libgfortran-4.9-dev
      permitted_os: ["Debian8.11"]

# sequenza-scripts/2.1.2
- name: sequenza-scripts
  version: 2.1.2
  build_type: custom
  build_args:
    prereq_args:
      prereq_args:
        sha256: aec68d6f47d3084a65ef5accbb12c8e70eeffb35ae04b371413cdf8323e34f42
        url: https://github.com/oicr-gsi/sequenza/archive/2.1.2.tar.gz
      prereq_type: download
    prereq_type: extract
    steps:
      - build_type: cran
        build_args:
          package: openxlsx
      - build_type: copy
        build_args:
          from:
            - Generate_plody_priors_table.R
            - SequenzaPreProcess_v2.2.R
            - SequenzaProcess_v2.2.R
          to: bin/
  depends:
  - name: rstats
    version: 3.6
